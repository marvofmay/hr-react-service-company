{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/useRolesQuery.tsx"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport Role from '../../types/Role';\nimport axios from 'axios';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\nimport { useTranslation } from 'react-i18next';\n\ntype SortDirection = 'asc' | 'desc' | undefined;\n\nconst fetchRoles = async (\n    token: string,\n    pageSize: number,\n    page: number,\n    sortBy: string,\n    sortDirection: SortDirection,\n    phrase: string\n): Promise<Role[]> => {\n\n    try {\n        const response = await axios.get(`${SERVICE_COMPANY_URL}/api/roles`, {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n            params: {\n                pageSize,\n                page,\n                sortBy,\n                sortDirection,\n                phrase\n            },\n        });\n\n        return response.data.data;\n\n    } catch (error) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useRolesQuery = (pageSize: number, page: number, sortBy: string, sortDirection: SortDirection, phrase: string) => {\n    const { t } = useTranslation();\n\n    console.log('useRolesQuery ');\n\n    return useQuery<object>({\n        queryKey: ['roles', pageSize, page, sortBy, sortDirection, phrase],\n        queryFn: async () => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            console.log('useRolesQuery 2');\n\n            const roles = await fetchRoles(token, pageSize, page, sortBy, sortDirection, phrase);\n\n            return roles || [];\n        }\n    });\n};\n\nexport default useRolesQuery;"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AACA;AAAA;;;;;AAIA,MAAM,aAAa,OACf,OACA,UACA,MACA,QACA,eACA;IAGA,IAAI;QACA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,kJAAmB,CAAC,UAAU,CAAC,EAAE;YACjE,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;YACpC;YACA,QAAQ;gBACJ;gBACA;gBACA;gBACA;gBACA;YACJ;QACJ;QAEA,OAAO,SAAS,IAAI,CAAC,IAAI;IAE7B,EAAE,OAAO,OAAO;QACZ,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,gBAAgB,CAAC,UAAkB,MAAc,QAAgB,eAA8B;IACjG,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,QAAQ,GAAG,CAAC;IAEZ,OAAO,IAAA,uLAAQ,EAAS;QACpB,UAAU;YAAC;YAAS;YAAU;YAAM;YAAQ;YAAe;SAAO;QAClE,SAAS;YACL,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,QAAQ,GAAG,CAAC;YAEZ,MAAM,QAAQ,MAAM,WAAW,OAAO,UAAU,MAAM,QAAQ,eAAe;YAE7E,OAAO,SAAS,EAAE;QACtB;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/useAddRoleMutation.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport Role from '@/app/types/Role';\nimport { useTranslation } from 'react-i18next';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\n\nconst addRole = async (role: Role, token: string): Promise<string> => {\n    try {\n        const response = await axios.post(\n            `${SERVICE_COMPANY_URL}/api/roles`,\n            {\n                name: role.name,\n                description: role.description,\n            },\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n            }\n        );\n\n        return response.data.message;\n    } catch (error: unknown) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useAddRoleMutation = () => {\n    const queryClient = useQueryClient();\n    const { t } = useTranslation();\n\n    return useMutation({\n        mutationFn: (role: Role) => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            return addRole(role, token);\n        },\n        onSuccess: () => {\n            //queryClient.refetchQueries({ queryKey: ['roles'], exact: false });\n        },\n        onError: (error) => {\n            throw error;\n        },\n    });\n};\n\nexport default useAddRoleMutation;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAEA;AAAA;AACA;;;;;AAEA,MAAM,UAAU,OAAO,MAAY;IAC/B,IAAI;QACA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC7B,GAAG,kJAAmB,CAAC,UAAU,CAAC,EAClC;YACI,MAAM,KAAK,IAAI;YACf,aAAa,KAAK,WAAW;QACjC,GACA;YACI,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YACpB;QACJ;QAGJ,OAAO,SAAS,IAAI,CAAC,OAAO;IAChC,EAAE,OAAO,OAAgB;QACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,qBAAqB;IACvB,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,OAAO,QAAQ,MAAM;QACzB;QACA,WAAW;QACP,oEAAoE;QACxE;QACA,SAAS,CAAC;YACN,MAAM;QACV;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/useUpdateRoleMutation.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport Role from '../../types/Role';\nimport { useTranslation } from 'react-i18next';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\n\nconst updateRole = async (updatedRole: Role, token: string): Promise<string> => {\n    try {\n        const response = await axios.put(\n            `${SERVICE_COMPANY_URL}/api/roles/${updatedRole.uuid}`,\n            {\n                uuid: updatedRole.uuid,\n                name: updatedRole.name,\n                description: updatedRole.description,\n            },\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n            }\n        );\n\n        return response.data.message;\n    } catch (error: unknown) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useUpdateRoleMutation = () => {\n    const queryClient = useQueryClient();\n    const { t } = useTranslation();\n\n    return useMutation({\n        mutationFn: (updatedRole: Role) => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            return updateRole(updatedRole, token);\n        },\n        onSuccess: () => {\n            queryClient.invalidateQueries({ queryKey: ['roles'] });\n        },\n        onError: (error) => {\n            throw error;\n        },\n    });\n};\n\nexport default useUpdateRoleMutation;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAEA;AAAA;AACA;;;;;AAEA,MAAM,aAAa,OAAO,aAAmB;IACzC,IAAI;QACA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC5B,GAAG,kJAAmB,CAAC,WAAW,EAAE,YAAY,IAAI,EAAE,EACtD;YACI,MAAM,YAAY,IAAI;YACtB,MAAM,YAAY,IAAI;YACtB,aAAa,YAAY,WAAW;QACxC,GACA;YACI,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YACpB;QACJ;QAGJ,OAAO,SAAS,IAAI,CAAC,OAAO;IAChC,EAAE,OAAO,OAAgB;QACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,wBAAwB;IAC1B,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,OAAO,WAAW,aAAa;QACnC;QACA,WAAW;YACP,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACxD;QACA,SAAS,CAAC;YACN,MAAM;QACV;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/useDeleteRoleMutation.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport Role from '@/app/types/Role';\nimport { useTranslation } from 'react-i18next';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\n\nconst deleteRole = async (roleToDelete: Role, token: string): Promise<string> => {\n    try {\n        const response = await axios.delete(\n            `${SERVICE_COMPANY_URL}/api/roles/${roleToDelete.uuid}`,\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n            }\n        );\n        console.log('response', response);\n\n        return response.data.message;\n    } catch (error: unknown) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useDeleteRoleMutation = (\n    pageSize: number,\n    pageIndex: number,\n    sortBy: string,\n    sortDirection: string,\n    phrase: string,\n    setPageIndex: (page: number) => void\n) => {\n    const queryClient = useQueryClient();\n    const { t } = useTranslation();\n\n    return useMutation({\n        mutationFn: (roleToDelete: Role) => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            return deleteRole(roleToDelete, token);\n        },\n        onSuccess: async () => {\n            await queryClient.invalidateQueries({\n                queryKey: ['roles', pageSize, pageIndex, sortBy, sortDirection, phrase],\n            });\n\n            const updatedData = queryClient.getQueryData<{\n                totalRoles: number;\n                page: number;\n                limit: number;\n                items: Role[];\n            }>(['roles', pageSize, pageIndex, sortBy, sortDirection, phrase]);\n\n            console.log('updatedData', updatedData);\n\n            if (!updatedData || updatedData.items.length === 0) {\n                if (pageIndex > 1) {\n                    setPageIndex(pageIndex - 1);\n                }\n            }\n        },\n    });\n};\n\nexport default useDeleteRoleMutation;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAEA;AAAA;AACA;;;;;AAEA,MAAM,aAAa,OAAO,cAAoB;IAC1C,IAAI;QACA,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAC/B,GAAG,kJAAmB,CAAC,WAAW,EAAE,aAAa,IAAI,EAAE,EACvD;YACI,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YACpB;QACJ;QAEJ,QAAQ,GAAG,CAAC,YAAY;QAExB,OAAO,SAAS,IAAI,CAAC,OAAO;IAChC,EAAE,OAAO,OAAgB;QACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,wBAAwB,CAC1B,UACA,WACA,QACA,eACA,QACA;IAEA,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,OAAO,WAAW,cAAc;QACpC;QACA,WAAW;YACP,MAAM,YAAY,iBAAiB,CAAC;gBAChC,UAAU;oBAAC;oBAAS;oBAAU;oBAAW;oBAAQ;oBAAe;iBAAO;YAC3E;YAEA,MAAM,cAAc,YAAY,YAAY,CAKzC;gBAAC;gBAAS;gBAAU;gBAAW;gBAAQ;gBAAe;aAAO;YAEhE,QAAQ,GAAG,CAAC,eAAe;YAE3B,IAAI,CAAC,eAAe,YAAY,KAAK,CAAC,MAAM,KAAK,GAAG;gBAChD,IAAI,YAAY,GAAG;oBACf,aAAa,YAAY;gBAC7B;YACJ;QACJ;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/useDeleteMultipleRoleMutation.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport Role from '@/app/types/Role';\nimport { useTranslation } from 'react-i18next';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\n\nconst deleteMultipleRole = async (rolesToDelete: Role[], token: string): Promise<string> => {\n    try {\n        const selectedUUID = {\n            selectedUUID: rolesToDelete.map(item => item.uuid)\n        };\n\n        const response = await axios.delete(\n            `${SERVICE_COMPANY_URL}/api/roles/multiple`,\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n                data: selectedUUID\n            }\n        );\n\n        console.log('response', response);\n\n        return response.data.message;\n    } catch (error: unknown) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useDeleteMultipleRoleMutation = (\n    pageSize: number,\n    pageIndex: number,\n    sortBy: string,\n    sortDirection: string,\n    phrase: string,\n    setPageIndex: (page: number) => void\n) => {\n    const queryClient = useQueryClient();\n    const { t } = useTranslation();\n\n    return useMutation({\n        mutationFn: (rolesToDelete: Role[]) => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            return deleteMultipleRole(rolesToDelete, token);\n        },\n        onSuccess: async () => {\n            await queryClient.invalidateQueries({\n                queryKey: ['roles', pageSize, pageIndex, sortBy, sortDirection, phrase],\n            });\n\n            const updatedData = queryClient.getQueryData<{\n                totalRoles: number;\n                page: number;\n                limit: number;\n                items: Role[];\n            }>(['roles', pageSize, pageIndex, sortBy, sortDirection, phrase]);\n\n            console.log('updatedData', updatedData);\n\n            if (!updatedData || updatedData.items.length === 0) {\n                if (pageIndex > 1) {\n                    setPageIndex(pageIndex - 1);\n                }\n            }\n        },\n    });\n};\n\nexport default useDeleteMultipleRoleMutation;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAEA;AAAA;AACA;;;;;AAEA,MAAM,qBAAqB,OAAO,eAAuB;IACrD,IAAI;QACA,MAAM,eAAe;YACjB,cAAc,cAAc,GAAG,CAAC,CAAA,OAAQ,KAAK,IAAI;QACrD;QAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAC/B,GAAG,kJAAmB,CAAC,mBAAmB,CAAC,EAC3C;YACI,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YACpB;YACA,MAAM;QACV;QAGJ,QAAQ,GAAG,CAAC,YAAY;QAExB,OAAO,SAAS,IAAI,CAAC,OAAO;IAChC,EAAE,OAAO,OAAgB;QACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,gCAAgC,CAClC,UACA,WACA,QACA,eACA,QACA;IAEA,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,OAAO,mBAAmB,eAAe;QAC7C;QACA,WAAW;YACP,MAAM,YAAY,iBAAiB,CAAC;gBAChC,UAAU;oBAAC;oBAAS;oBAAU;oBAAW;oBAAQ;oBAAe;iBAAO;YAC3E;YAEA,MAAM,cAAc,YAAY,YAAY,CAKzC;gBAAC;gBAAS;gBAAU;gBAAW;gBAAQ;gBAAe;aAAO;YAEhE,QAAQ,GAAG,CAAC,eAAe;YAE3B,IAAI,CAAC,eAAe,YAAY,KAAK,CAAC,MAAM,KAAK,GAAG;gBAChD,IAAI,YAAY,GAAG;oBACf,aAAa,YAAY;gBAC7B;YACJ;QACJ;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/hooks/role/importRolesFromXLSXMutation.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useTranslation } from 'react-i18next';\nimport { SERVICE_COMPANY_URL } from '@/app/utility/constans';\n\nconst importRoles = async (file: File, token: string): Promise<string> => {\n    try {\n        const response = await axios.post(\n            `${SERVICE_COMPANY_URL}/api/roles/import`,\n            {\n                file: file,\n            },\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'multipart/form-data',\n                },\n            }\n        );\n\n        return response.data.message;\n    } catch (error: unknown) {\n        if (axios.isAxiosError(error) && error.response?.status === 401) {\n            window.location.href = '/user/logout';\n        }\n\n        throw error;\n    }\n};\n\nconst useImportRolesFromXLSXMutation = () => {\n    const queryClient = useQueryClient();\n    const { t } = useTranslation();\n\n    return useMutation({\n        mutationFn: (file: File) => {\n            const token = localStorage.getItem('token');\n\n            if (!token) {\n                throw new Error(t('common.message.tokenIsMissing'));\n            }\n\n            return importRoles(file, token);\n        },\n        onSuccess: () => {\n            queryClient.invalidateQueries({ queryKey: ['roles'] });\n        },\n        onError: (error) => {\n            throw error;\n        },\n    });\n};\n\nexport default useImportRolesFromXLSXMutation;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;AAEA,MAAM,cAAc,OAAO,MAAY;IACnC,IAAI;QACA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC7B,GAAG,kJAAmB,CAAC,iBAAiB,CAAC,EACzC;YACI,MAAM;QACV,GACA;YACI,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YACpB;QACJ;QAGJ,OAAO,SAAS,IAAI,CAAC,OAAO;IAChC,EAAE,OAAO,OAAgB;QACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE,WAAW,KAAK;YAC7D,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;QAEA,MAAM;IACV;AACJ;AAEA,MAAM,iCAAiC;IACnC,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,IAAI,CAAC,OAAO;gBACR,MAAM,IAAI,MAAM,EAAE;YACtB;YAEA,OAAO,YAAY,MAAM;QAC7B;QACA,WAAW;YACP,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACxD;QACA,SAAS,CAAC;YACN,MAAM;QACV;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/components/role/Table.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    TablePagination,\n    IconButton,\n    Button,\n    Box,\n    CircularProgress,\n    TextField,\n    Checkbox\n} from '@mui/material';\nimport { Preview, Edit, Delete, Add, Key, Search } from '@mui/icons-material';\nimport FileUploadOutlinedIcon from '@mui/icons-material/FileUploadOutlined';\nimport Role from '@/app/types/Role';\nimport CreateRoleModal from '@/app/components/role/modal/Create';\nimport EditRoleModal from '@/app/components/role/modal/Edit';\nimport PreviewRoleModal from '@/app/components/role/modal/Preview';\nimport ImportRolesFromXLSXModal from '@/app/components/role/modal/importRolesFromXLSX';\nimport DeleteRoleModal from '@/app/components/role/modal/Delete';\nimport DeleteMultipleRolesModal from '@/app/components/role/modal/DeleteMultiple';\nimport EditPermissionRoleModal from '@/app/components/permission/modal/EditPermissionRole';\nimport useRolesQuery from '@/app/hooks/role/useRolesQuery';\nimport useAddRoleMutation from '@/app/hooks/role/useAddRoleMutation';\nimport useUpdateRoleMutation from '@/app/hooks/role/useUpdateRoleMutation';\nimport useDeleteRoleMutation from '@/app/hooks/role/useDeleteRoleMutation';\nimport useDeleteMultipleRoleMutation from '@/app/hooks/role/useDeleteMultipleRoleMutation'\nimport useImportRolesFromXLSXMutation from '@/app/hooks/role/importRolesFromXLSXMutation';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport modules from '@/app/fakeData/Modules';\nimport permissions from '@/app/fakeData/Permissions';\nimport moment from 'moment';\nimport { useUser } from \"@/app/context/UserContext\";\n\ntype SortDirection = 'asc' | 'desc';\n\nconst RolesTable = () => {\n    const [pageSize, setPageSize] = useState(5);\n    const [page, setPage] = useState(1);\n    const [sortBy, setSortBy] = useState('createdAt');\n    const [sortDirection, setSortDirection] = useState<SortDirection>('desc');\n    const [searchPhrase, setSearchPhrase] = useState<string>('');\n    const [phrase, setPhrase] = useState<string>('');\n    const [modalType, setModalType] = useState<string | null>(null);\n    const [selectedRole, setSelectedRole] = useState<Role | null>(null);\n    const result = useRolesQuery(pageSize, page, sortBy, sortDirection, phrase);\n    const data = result.data as { items: Role[]; total: number } | undefined;\n    const { isLoading, error } = result;\n\n    const { mutate: addRoleMutate } = useAddRoleMutation();\n    const { mutate: updateRoleMutate } = useUpdateRoleMutation();\n    const { mutate: deleteRoleMutate } = useDeleteRoleMutation(pageSize, page, sortBy, sortDirection, phrase, setPage);\n    const { mutate: deleteMultipleRoleMutate } = useDeleteMultipleRoleMutation(pageSize, page, sortBy, sortDirection, phrase, setPage);\n    const { mutate: importRolesFromXLSXMutate } = useImportRolesFromXLSXMutation();\n    const { t } = useTranslation();\n    const { hasPermission } = useUser();\n    const [selected, setSelected] = useState<string[]>([]);\n\n    const allSelected = selected.length === data?.items?.length && data?.items?.length > 0;\n\n    const handleSearch = () => {\n        setPhrase(searchPhrase);\n        setPage(1);\n    };\n\n    const handleSort = (column: string) => {\n        const direction = sortBy === column && sortDirection === 'asc' ? 'desc' : 'asc';\n        setSortBy(column);\n        setSortDirection(direction);\n    };\n\n    const openModal = (type: string, role: Role | null = null) => {\n        setModalType(type);\n        setSelectedRole(role);\n    };\n\n    const closeModal = () => {\n        setModalType(null);\n        setSelectedRole(null);\n    };\n\n    const handlePageSizeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setPage(1);\n        setPageSize(Number(event.target.value));\n    };\n\n    const handleAdd = async (newRole: Role): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            addRoleMutate(newRole, {\n                onSuccess: (message: string) => { toast.success(message); resolve(); },\n                onError: (error: object) => { toast.error(t('role.add.error')); reject(error); },\n            });\n        });\n    };\n\n    const handleDelete = (roleToDelete: Role): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            deleteRoleMutate(roleToDelete, {\n                onSuccess: (message: string) => { toast.success(message); resolve(); },\n                onError: (error: object) => { toast.error(t('role.delete.error')); reject(error); },\n            });\n        });\n    };\n\n    const handleUpdate = async (updatedRole: Role): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            updateRoleMutate(updatedRole, {\n                onSuccess: (message: string) => { toast.success(message); resolve(); },\n                onError: (error: object) => { toast.error(t('role.update.error')); reject(error); },\n            });\n        });\n    };\n\n    const handleImportRolesFromXLSX = async (file: File): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            importRolesFromXLSXMutate(file, {\n                onSuccess: (message: string) => { toast.success(message); resolve(); },\n                onError: (error: object) => { toast.error(t('common.message.somethingWentWrong')); console.log(error); reject(error); },\n            });\n        });\n    };\n\n    const toggleSelectAll = () => {\n        setSelected(allSelected ? [] : data?.items?.map((role) => role.uuid) || []);\n    };\n\n    const toggleSelectRow = (uuid: string) => {\n        setSelected((prev) => prev.includes(uuid) ? prev.filter((item) => item !== uuid) : [...prev, uuid]);\n    };\n\n    const handleDeleteMultiple = (rolesToDelete: Role[]): Promise<void> => {\n        return new Promise((resolve, reject) => {\n            deleteMultipleRoleMutate(rolesToDelete, {\n                onSuccess: (message: string) => { toast.success(message); resolve(); },\n                onError: (error: object) => { toast.error(t('role.delete.error')); reject(error); },\n            });\n        });\n    };\n\n    return (\n        <div>\n            {/* ... reszta JSX bez zmian ... */}\n            <TableBody>\n                {data?.items?.map((role, index) => (\n                    <TableRow key={role.uuid}>\n                        {hasPermission(\"roles.delete\") && (\n                            <TableCell sx={{ width: \"50px\", minWidth: \"50px\", maxWidth: \"50px\", padding: \"4px 8px\" }}>\n                                <Checkbox\n                                    checked={selected.includes(role.uuid)}\n                                    onChange={() => toggleSelectRow(role.uuid)}\n                                />\n                            </TableCell>\n                        )}\n                        <TableCell sx={{ padding: '4px 8px' }}>{(page - 1) * pageSize + index + 1}</TableCell>\n                        <TableCell sx={{ padding: '4px 8px' }}>{role.name}</TableCell>\n                        <TableCell sx={{ padding: '4px 8px' }}>{role.description || '-'}</TableCell>\n                        <TableCell sx={{ padding: '4px 8px' }}>{moment(role.createdAt).format('YYYY-MM-DD HH:mm:ss')}</TableCell>\n                        <TableCell sx={{ padding: '4px 8px' }}>{role.updatedAt ? moment(role.updatedAt).format('YYYY-MM-DD HH:mm:ss') : '-'}</TableCell>\n                        <TableCell sx={{ padding: '4px 8px' }}>\n                            {hasPermission(\"roles.preview\") && <IconButton onClick={() => openModal('preview', role)}><Preview /></IconButton>}\n                            {hasPermission(\"roles.edit\") && <IconButton onClick={() => openModal('edit', role)}><Edit /></IconButton>}\n                            <IconButton onClick={() => openModal('permission', role)}><Key /></IconButton>\n                            {hasPermission(\"roles.delete\") && <IconButton onClick={() => openModal('delete', role)}><Delete /></IconButton>}\n                        </TableCell>\n                    </TableRow>\n                ))}\n            </TableBody>\n            {/* ... reszta JSX pozostaje bez zmian ... */}\n        </div>\n    );\n};\n\nexport default RolesTable;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/manage/roles/list/page.tsx"],"sourcesContent":["\"use client\";\n\nimport RolesTable from \"@/app/components/role/Table\";\nimport { Box, Typography, CircularProgress } from '@mui/material';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { useTranslation } from 'react-i18next';\nimport { useUser } from \"@/app/context/UserContext\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\n\nconst RolesList: React.FC = () => {\n    const queryClient = new QueryClient();\n    const { hasAccessToModule, hasPermission, isAuthenticated, loading } = useUser();\n    const router = useRouter();\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        if (!loading && !isAuthenticated) {\n            router.replace(\"/unauthorized\");\n        }\n\n        if (!loading && !hasAccessToModule([\"companies\"])) {\n            router.replace(\"/forbidden\");\n        }\n    }, [hasAccessToModule, isAuthenticated, loading, router]);\n\n    if (loading) {\n        return (<Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"300px\">\n            <CircularProgress />\n        </Box>);\n    }\n\n    return (\n        <div className=\"grid grid-rows-[10px_1fr_10px] min-h-screen p-1 pb-1 sm:p-1 font-[family-name:var(--font-geist-sans)]\">\n            <main>\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" >\n                    <Box width=\"90%\">\n                        <Typography variant=\"h6\" gutterBottom>{t('role.list.title')}</Typography>\n                        <QueryClientProvider client={queryClient}>\n                            {hasPermission('roles.list') && <RolesTable />}\n                        </QueryClientProvider>\n                    </Box></Box>\n            </main>\n        </div>\n    );\n}\n\nexport default RolesList; "],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AARA;;;;;;;;;AAUA,MAAM,YAAsB;IACxB,MAAM,cAAc,IAAI,4LAAW;IACnC,MAAM,EAAE,iBAAiB,EAAE,aAAa,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IAC9E,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAE5B,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,iBAAiB;YAC9B,OAAO,OAAO,CAAC;QACnB;QAEA,IAAI,CAAC,WAAW,CAAC,kBAAkB;YAAC;SAAY,GAAG;YAC/C,OAAO,OAAO,CAAC;QACnB;IACJ,GAAG;QAAC;QAAmB;QAAiB;QAAS;KAAO;IAExD,IAAI,SAAS;QACT,qBAAQ,8OAAC,+LAAG;YAAC,SAAQ;YAAO,gBAAe;YAAS,YAAW;YAAS,QAAO;sBAC3E,cAAA,8OAAC,mPAAgB;;;;;;;;;;IAEzB;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;sBACG,cAAA,8OAAC,+LAAG;gBAAC,SAAQ;gBAAO,gBAAe;gBAAS,YAAW;0BACnD,cAAA,8OAAC,+LAAG;oBAAC,OAAM;;sCACP,8OAAC,2NAAU;4BAAC,SAAQ;4BAAK,YAAY;sCAAE,EAAE;;;;;;sCACzC,8OAAC,6MAAmB;4BAAC,QAAQ;sCACxB,cAAc,+BAAiB,8OAAC,8IAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMvE;uCAEe"}}]
}